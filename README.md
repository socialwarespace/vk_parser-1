## Подготовка к работе ##

ID группы, с которой предполагается работа, должен быть указан в файле  *config/config.json* в поле *"public_id"*. 

## Доступные функции ##

1) Выгрузка информации об участниках группы/паблика - *scripts/members_info.py*. Если требуется выгрузить не всех участников, а часть, то номер, с которого нужно начать, передается в командную строку первым аргументом, количество участников, информацию о которых нужно выгрузить - вторым. Третьим аргументом подается число от 0 до 4 - номер конфигурации доступа к ВК, с которой будут посылаться запросы к серверу ВК (работа двух и более скриптов с одной конфигурацией приведет к возникновению многочисленных ошибок из-за превышения запросов к серверу ВК). После выполнения скрипта результат будет находиться в файле *results/csv/members_group_id_начало-конец.csv*

2) Построение графов дружбы между участниками группы и графа между участниками группы и остальными группами, в которых они состоят - *scripts/members_graphs.py*. Результаты находятся в файлах *results/graphml/friends_graph.graphml* и *results/graphml/groups_graph.graphml* соответственно.

3) Выгрузка подробной информации (описание, количество участников, количество публикаций за все время) о сообществах, в которых состоят участники анализируемой группы - *scripts/groups_info.py*. Результат будет сохранен в файле *results/csv/groups_group_id.csv*

4) Построение матрицы смежности из людей из данного списка и групп, в которых они состоят (список считывается из поля *"matrix_people_list"* файла *config/config.json*). Результат будет находиться в файле *results/csv/matrix.csv*.
## Запуск скриптов ##

Все скрипты написаны на Python3 и требуют, чтобы в папке с ними находился файл авторизации ВК *vk_auth.py*. Если запуск осуществляется с использованием SSH, то для того, чтобы работа скрипта продолжалась после разрыва соединения, необходимо воспользоваться утилитой nohup. При этом статус работы программы будет передаваться в заранее указанный файл, задающийся следующим образом: команда **nohup program > program.out &** запустит программу **program** с продолжением работы после разрыва SSH-соединение и будет помещать вывод в файл **program.out**
    
## Исправление ошибок ##

В процессе работы скриптов могут возникнуть ошибки при получении данных, вызванные как проблемами с соединением у клиента, так и с отказом серверов ВК. Список ошибок можно посмотреть в файле *logs/members_info_group_id/log_members_group_id_начало-конец.csv*. При этом даже если во время получения информации о пользователе была получена ошибка, правильно обработанная информация будет добавлена в вывод скрипта. Для исправления возникших ошибок после завершения скрипта, их сгенерировавшего, нужно запустить файл *scripts/fail_checkers/members_info_fail_checker.py*, предварительно указав путь к папке с логами в поле *"fail_checker_logs_folder"* в *config.json*. Этот скрипт повторит запросы к полям, при получении которых возникла ошибка, и перепишет их. При этом в файле логов пропадут строки с исправленными ошибками, а если при исправлении ошибок произойдет еще одна ошибка, работу скрипта можно будет повторить. Таким образом, файл логов всегда содержит только те ошибки, которые присутствуют в последней версии информации о пользователях. 
